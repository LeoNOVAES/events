{"remainingRequest":"/home/leandro/events/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/leandro/events/client/src/components/Cadastro.vue?vue&type=style&index=0&id=dbe0902e&scoped=true&lang=css&","dependencies":[{"path":"/home/leandro/events/client/src/components/Cadastro.vue","mtime":1568681867874},{"path":"/home/leandro/events/client/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n.cadastro-container{\n    height: 100%;\n    display:flex;\n    justify-content: center;\n    align-items: center\n}\n\n.cadastro-container form{\n    width: 100%;\n    max-width: 300px;\n    display: flex;\n    flex-direction: column\n}\n\n.cadastro-container form input{\n    margin-top: 20px;\n    height: 40px;\n    padding:0 20px;\n    font-size: 16px;\n    color:#a0a0a0;\n    background-color:#3F3F3F;\n    border:1px solid #a0a0a0 !important;\n    border-radius: 4px \n\n}\n\n.cadastro-container form input::placeholder{\n    color:#999\n}\n\n\n.cadastro-container form button{\n    margin-top:10px;\n    border: 0;\n    border-radius: 4px;\n    height: 48px;\n    font-size: 16px;\n    background-color: #DF4723;\n    color:#ffffff;\n    cursor: pointer;\n\n}\n\n.cadastro-container form p{\n    padding-top:5px; \n    font-size:15pt; \n    color:#e9e9e9\n}\n#validation{\n    background-color: #DF4723;\n    padding:10px;\n    border-radius: 7px;\n    margin:10px;\n    color:#ffffff\n}\n",{"version":3,"sources":["Cadastro.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cadastro.vue","sourceRoot":"src/components","sourcesContent":["<style scoped>\n.cadastro-container{\n    height: 100%;\n    display:flex;\n    justify-content: center;\n    align-items: center\n}\n\n.cadastro-container form{\n    width: 100%;\n    max-width: 300px;\n    display: flex;\n    flex-direction: column\n}\n\n.cadastro-container form input{\n    margin-top: 20px;\n    height: 40px;\n    padding:0 20px;\n    font-size: 16px;\n    color:#a0a0a0;\n    background-color:#3F3F3F;\n    border:1px solid #a0a0a0 !important;\n    border-radius: 4px \n\n}\n\n.cadastro-container form input::placeholder{\n    color:#999\n}\n\n\n.cadastro-container form button{\n    margin-top:10px;\n    border: 0;\n    border-radius: 4px;\n    height: 48px;\n    font-size: 16px;\n    background-color: #DF4723;\n    color:#ffffff;\n    cursor: pointer;\n\n}\n\n.cadastro-container form p{\n    padding-top:5px; \n    font-size:15pt; \n    color:#e9e9e9\n}\n#validation{\n    background-color: #DF4723;\n    padding:10px;\n    border-radius: 7px;\n    margin:10px;\n    color:#ffffff\n}\n</style>\n\n<template>\n    <div class=\"cadastro-container\" >\n        <form>\n            <img src=\"../../public/assets/logo.png\" width=\"100px\" alt=\"events\"/>\n            <div id=\"validation\" v-if=\"validation\">\n                Todos os campos devem estar preenchidos\n            </div>\n            <input type=\"text\" v-model=\"form.email\" placeholder=\"E-mail\" />\n            <input type=\"text\" v-model=\"form.name\" placeholder=\"Nome\" />\n            <input type=\"password\" v-model=\"form.password\" placeholder=\"Senha\" />\n            <input type=\"number\" v-model=\"form.phone\" placeholder=\"Telefone\" />\n            <button @click=\"handlerRegister\">Cadastrar</button>\n            <p @click=\"handlerComponent\" style=\"cursor:pointer\" >VOLTAR</p>\n        </form>\n    </div>\n</template>\n\n<script>\nimport api from \"@/services/api\";\n\nexport default{\n   components:{\n       api\n   }, \n   props:{\n       handlerComponent:''\n   },\n    data(){\n       return{\n           validation:0,\n           form:{\n               email:\"\",\n               password:\"\",\n               phone:\"\",\n               name:\"\"\n           }\n       } \n   },\n   methods:{\n       async handlerRegister(){\n           try{\n               \n                if(!this.$data.form.password || !this.$data.form.email || !this.$data.form.phone || !this.$data.form.name){\n                    return this.$data.validation = 1;\n                } \n                const response = await api.post(\"/user\", this.$data.form);   \n                \n                this.$swal({\n                    title:response.data.message,\n                    text:\"Aguarde...\",\n                    type: 'warning',\n                    confirmButtonColor: '#DF4723'\n                });\n\n                setInterval(()=>{\n\n                },5000);\n                \n                this.handlerLogin();\n\n            }catch(e){\n               console.log(e)\n               this.$swal({\n                    title:\"usuário já existe!\",\n                    type: 'warning',\n                    confirmButtonColor: '#DF4723'\n                });\n           }\n       },\n\n       async handlerLogin(){\n             const data = {\n                email:this.$data.form.email,\n                password:this.$data.form.password\n            }\n    \n            const response = await api.post(\"/auth\", data);\n            localStorage.setItem(\"token\", response.data.token)\n            localStorage.setItem(\"id\", response.data.user._id);\n            localStorage.setItem(\"nome\", response.data.user.name);\n            location.href = \"#/home\";\n       }\n   }\n    \n}\n</script>\n\n"]}]}