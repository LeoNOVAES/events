{"remainingRequest":"/home/leandro/events/client/node_modules/babel-loader/lib/index.js!/home/leandro/events/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/leandro/events/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/leandro/events/client/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/leandro/events/client/src/components/Login.vue","mtime":1568684328816},{"path":"/home/leandro/events/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/leandro/events/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/leandro/events/client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from \"@/services/api\";\nexport default {\n  components: {\n    api: api\n  },\n  props: {\n    handlerComponent: \"\"\n  },\n  data: function data() {\n    return {\n      validation: 0,\n      form: {}\n    };\n  },\n  methods: {\n    handlerLogin: function () {\n      var _handlerLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!this.$data.form.password || !this.$data.form.email)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", this.$data.validation = 1);\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return api.post(\"/auth\", this.$data.form);\n\n              case 5:\n                response = _context.sent;\n                localStorage.setItem(\"token\", response.data.token);\n                localStorage.setItem(\"id\", response.data.user._id);\n                localStorage.setItem(\"nome\", response.data.user.name);\n                window.location.reload(true);\n                _context.next = 16;\n                break;\n\n              case 12:\n                _context.prev = 12;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0);\n                this.$swal({\n                  title: \"Senha ou Email incorretos!\",\n                  type: 'warning',\n                  confirmButtonColor: '#DF4723'\n                });\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 12]]);\n      }));\n\n      function handlerLogin() {\n        return _handlerLogin.apply(this, arguments);\n      }\n\n      return handlerLogin;\n    }()\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,OAAA,GAAA,MAAA,gBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA;AACA,IAAA,gBAAA,EAAA;AADA,GAJA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,YADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGA,CAAA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,IAAA,CAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAHA;AAAA;AAAA;AAAA;;AAAA,iDAGA,KAAA,KAAA,CAAA,UAAA,GAAA,CAHA;;AAAA;AAAA;AAAA;AAAA,uBAMA,GAAA,CAAA,IAAA,CAAA,OAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CANA;;AAAA;AAMA,gBAAA,QANA;AAQA,gBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,IAAA;AAXA;AAAA;;AAAA;AAAA;AAAA;AAcA,gBAAA,OAAA,CAAA,GAAA;AACA,qBAAA,KAAA,CAAA;AACA,kBAAA,KAAA,EAAA,4BADA;AAEA,kBAAA,IAAA,EAAA,SAFA;AAGA,kBAAA,kBAAA,EAAA;AAHA,iBAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAbA,CAAA","sourcesContent":["<style scoped>\n.login-container{\n    height: 100%;\n    display:flex;\n    justify-content: center;\n    align-items: center\n}\n\n.login-container form{\n    width: 100%;\n    max-width: 300px;\n    display: flex;\n    flex-direction: column\n}\n\n.login-container form input{\n    margin-top: 20px;\n    height: 40px;\n    padding:0 20px;\n    font-size: 16px;\n    color:#a0a0a0;\n    background-color:#3F3F3F;\n    border:1px solid #a0a0a0 !important;\n    border-radius: 4px \n}\n\n.login-container form input::placeholder{\n    color:#999\n}\n\n\n.login-container form button{\n    margin-top:10px;\n    border: 0;\n    border-radius: 4px;\n    height: 48px;\n    font-size: 16px;\n    background-color: #DF4723;\n    color:#ffffff;\n    cursor: pointer;\n\n}\n\n.login-container form p{\n    padding-top:5px; \n    font-size:15pt; \n    color:#e9e9e9\n}\n\n#validation{\n    background-color: #DF4723;\n    padding:10px;\n    border-radius: 7px;\n    margin:10px;\n    color:#ffffff\n}\n</style>\n\n<template>\n    <div class=\"login-container\" >\n        <form>\n            <img src=\"../../public/assets/logo.png\" width=\"100px\" alt=\"events\"/>\n            <div id=\"validation\" v-if=\"validation\">\n                Todos os campos devem estar preenchidos\n            </div>\n            <input type=\"text\" v-model=\"form.email\" placeholder=\"E-mail\" />\n            <input type=\"password\" v-model=\"form.password\" placeholder=\"Senha\" />\n            <button @click=\"handlerLogin\">Entrar</button>\n            <p>NÃ£o tem conta? <a @click=\"handlerComponent()\" style=\"color:#DF4723; cursor:pointer\">Registre-se</a></p>\n        </form>\n    </div>\n</template>\n\n<script>\nimport api from \"@/services/api\";\nexport default{\n   components:{\n       api\n   }, \n   props:{\n       handlerComponent:\"\"\n   },\n   data(){\n       return{\n           validation:0,\n           form:{}\n       }    \n   },\n   methods:{\n       async handlerLogin(){\n            \n           if(!this.$data.form.password || !this.$data.form.email) return this.$data.validation = 1;\n            \n            try{\n                const response = await api.post(\"/auth\",this.$data.form);\n        \n                localStorage.setItem(\"token\",response.data.token)\n                localStorage.setItem(\"id\", response.data.user._id);\n                localStorage.setItem(\"nome\", response.data.user.name);\n                window.location.reload(true);\n\n            }catch(e){\n                console.log(e);\n                this.$swal({\n                    title:\"Senha ou Email incorretos!\",\n                    type: 'warning',\n                    confirmButtonColor: '#DF4723'\n                });\n            }    \n       }\n   }\n    \n}\n</script>\n\n"],"sourceRoot":"src/components"}]}